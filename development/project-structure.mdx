# Project Structure

<Info>
Understand the AWO Platform codebase organization, architectural patterns, and file naming conventions designed for scalable African fintech development.
</Info>

## Repository Overview

AWO Platform follows a **monorepo structure** with clear separation between frontend, backend, and shared utilities, optimized for African development teams and deployment patterns.

<CardGroup cols={2}>
  <Card title="Monorepo Benefits" icon="folder">
    **Shared Code**: Common utilities and types across services  
    **Atomic Commits**: Related changes in single commits  
    **Simplified CI/CD**: Single pipeline for entire platform  
    **Dependency Management**: Unified package management
  </Card>
  <Card title="Scalability Design" icon="server">
    **Microservices Ready**: Easy service extraction  
    **Team Scalability**: Clear ownership boundaries  
    **Regional Deployment**: Separate deployment per region  
    **Feature Flags**: Gradual rollout capabilities
  </Card>
</CardGroup>

## High-Level Directory Structure

```
awo-platform/
â”œâ”€â”€ ğŸ“± mobile/                  # React Native mobile application
â”œâ”€â”€ ğŸ”§ backend/                 # Express.js API server
â”œâ”€â”€ ğŸ“š shared/                  # Shared utilities and types
â”œâ”€â”€ ğŸš€ infrastructure/          # Deployment and infrastructure
â”œâ”€â”€ ğŸ“– docs/                    # Documentation and guides
â”œâ”€â”€ ğŸ§ª testing/                 # Cross-platform testing utilities
â”œâ”€â”€ ğŸ“¦ packages/                # Internal packages and libraries
â”œâ”€â”€ ğŸ”§ tools/                   # Development tools and scripts
â”œâ”€â”€ ğŸŒ localization/            # Multi-language resources
â””â”€â”€ âš™ï¸  .github/                # GitHub workflows and templates
```

## Mobile Application Structure

### React Native App Organization

<Accordion title="Mobile App Directory Structure">
```
mobile/
â”œâ”€â”€ ğŸ“± src/
â”‚   â”œâ”€â”€ ğŸ” components/          # Reusable UI components
â”‚   â”‚   â”œâ”€â”€ common/             # Generic components (Button, Input, etc.)
â”‚   â”‚   â”œâ”€â”€ forms/              # Form-specific components
â”‚   â”‚   â”œâ”€â”€ financial/          # Financial UI components (DivaScore, WalletCard)
â”‚   â”‚   â”œâ”€â”€ chama/              # Chama/Stokvel specific components
â”‚   â”‚   â””â”€â”€ navigation/         # Navigation components
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“º screens/             # Screen components
â”‚   â”‚   â”œâ”€â”€ auth/               # Authentication screens
â”‚   â”‚   â”œâ”€â”€ onboarding/         # User onboarding flow
â”‚   â”‚   â”œâ”€â”€ dashboard/          # Main dashboard
â”‚   â”‚   â”œâ”€â”€ wallet/             # Wallet and transactions
â”‚   â”‚   â”œâ”€â”€ chama/              # Chama management
â”‚   â”‚   â”œâ”€â”€ investments/        # Investment marketplace
â”‚   â”‚   â”œâ”€â”€ profile/            # User profile and settings
â”‚   â”‚   â””â”€â”€ coaching/           # Wealth coaching screens
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ§­ navigation/          # Navigation configuration
â”‚   â”‚   â”œâ”€â”€ AppNavigator.tsx    # Main navigation structure
â”‚   â”‚   â”œâ”€â”€ AuthNavigator.tsx   # Authentication flow navigation
â”‚   â”‚   â”œâ”€â”€ TabNavigator.tsx    # Bottom tab navigation
â”‚   â”‚   â””â”€â”€ types.ts            # Navigation type definitions
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ”„ services/            # API services and external integrations
â”‚   â”‚   â”œâ”€â”€ api/                # API client and endpoints
â”‚   â”‚   â”œâ”€â”€ auth/               # Authentication service
â”‚   â”‚   â”œâ”€â”€ banking/            # Banking integration services
â”‚   â”‚   â”œâ”€â”€ payments/           # Payment processing
â”‚   â”‚   â”œâ”€â”€ notifications/      # Push notification handling
â”‚   â”‚   â””â”€â”€ offline/            # Offline data management
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸª stores/              # State management (Zustand)
â”‚   â”‚   â”œâ”€â”€ authStore.ts        # Authentication state
â”‚   â”‚   â”œâ”€â”€ userStore.ts        # User profile and DIVA score
â”‚   â”‚   â”œâ”€â”€ walletStore.ts      # Wallet and transaction state
â”‚   â”‚   â”œâ”€â”€ chamaStore.ts       # Chama/group state
â”‚   â”‚   â””â”€â”€ settingsStore.ts    # App settings and preferences
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ”§ utils/               # Utility functions
â”‚   â”‚   â”œâ”€â”€ validation.ts       # Form validation helpers
â”‚   â”‚   â”œâ”€â”€ formatting.ts       # Currency, date, number formatting
â”‚   â”‚   â”œâ”€â”€ encryption.ts       # Client-side encryption utilities
â”‚   â”‚   â”œâ”€â”€ network.ts          # Network status and retry logic
â”‚   â”‚   â””â”€â”€ analytics.ts        # User analytics and tracking
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ¨ theme/               # UI theme and styling
â”‚   â”‚   â”œâ”€â”€ colors.ts           # Color palette (AWO brand colors)
â”‚   â”‚   â”œâ”€â”€ typography.ts       # Font sizes and styles
â”‚   â”‚   â”œâ”€â”€ spacing.ts          # Spacing and layout constants
â”‚   â”‚   â””â”€â”€ components.ts       # Component-specific styles
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ”¤ constants/           # App constants
â”‚   â”‚   â”œâ”€â”€ api.ts              # API endpoints and configuration
â”‚   â”‚   â”œâ”€â”€ config.ts           # App configuration
â”‚   â”‚   â”œâ”€â”€ countries.ts        # SADC country data
â”‚   â”‚   â””â”€â”€ currencies.ts       # Currency configurations
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸŒ localization/        # Internationalization
â”‚   â”‚   â”œâ”€â”€ en.json             # English translations
â”‚   â”‚   â”œâ”€â”€ af.json             # Afrikaans translations
â”‚   â”‚   â”œâ”€â”€ pt.json             # Portuguese translations
â”‚   â”‚   â””â”€â”€ index.ts            # i18n configuration
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“‹ types/               # TypeScript type definitions
â”‚       â”œâ”€â”€ api.ts              # API response types
â”‚       â”œâ”€â”€ user.ts             # User and profile types
â”‚       â”œâ”€â”€ financial.ts        # Financial data types
â”‚       â”œâ”€â”€ chama.ts            # Chama/group types
â”‚       â””â”€â”€ navigation.ts       # Navigation parameter types
â”‚
â”œâ”€â”€ ğŸ“¦ assets/                  # Static assets
â”‚   â”œâ”€â”€ images/                 # App images and illustrations
â”‚   â”œâ”€â”€ icons/                  # Custom icons
â”‚   â”œâ”€â”€ fonts/                  # Custom fonts
â”‚   â””â”€â”€ animations/             # Lottie animations
â”‚
â”œâ”€â”€ ğŸ§ª __tests__/               # Test files
â”‚   â”œâ”€â”€ components/             # Component tests
â”‚   â”œâ”€â”€ screens/                # Screen tests
â”‚   â”œâ”€â”€ services/               # Service tests
â”‚   â””â”€â”€ utils/                  # Utility function tests
â”‚
â”œâ”€â”€ ğŸ“± App.tsx                  # Main app component
â”œâ”€â”€ âš™ï¸  app.json                # Expo configuration
â”œâ”€â”€ ğŸ“¦ package.json             # Dependencies and scripts
â”œâ”€â”€ ğŸ”§ metro.config.js          # Metro bundler configuration
â”œâ”€â”€ ğŸ¨ tailwind.config.js       # Tailwind CSS configuration
â””â”€â”€ ğŸ“‹ tsconfig.json            # TypeScript configuration
```
</Accordion>

### Key Mobile App Files

<CodeGroup>
```typescript App.tsx
// Main application entry point
import React from 'react';
import { StatusBar } from 'expo-status-bar';
import { QueryClient, QueryClientProvider } from '@tanstack/react-query';
import { GestureHandlerRootView } from 'react-native-gesture-handler';

import AppNavigator from './src/navigation/AppNavigator';
import { AuthProvider } from './src/contexts/AuthContext';
import { ThemeProvider } from './src/contexts/ThemeContext';
import ErrorBoundary from './src/components/common/ErrorBoundary';

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 5 * 60 * 1000, // 5 minutes
      cacheTime: 10 * 60 * 1000, // 10 minutes
      retry: (failureCount, error: any) => {
        // Retry logic for African networks
        if (error?.code === 'NETWORK_ERROR') return failureCount < 3;
        return false;
      },
    },
  },
});

export default function App() {
  return (
    <ErrorBoundary>
      <GestureHandlerRootView style={{ flex: 1 }}>
        <QueryClientProvider client={queryClient}>
          <ThemeProvider>
            <AuthProvider>
              <AppNavigator />
              <StatusBar style="auto" />
            </AuthProvider>
          </ThemeProvider>
        </QueryClientProvider>
      </GestureHandlerRootView>
    </ErrorBoundary>
  );
}
```

```json app.json
{
  "expo": {
    "name": "AWO Platform",
    "slug": "awo-platform",
    "version": "1.0.0",
    "orientation": "portrait",
    "icon": "./assets/icon.png",
    "userInterfaceStyle": "automatic",
    "splash": {
      "image": "./assets/splash.png",
      "resizeMode": "contain",
      "backgroundColor": "#bc9b25"
    },
    "assetBundlePatterns": ["**/*"],
    "ios": {
      "supportsTablet": false,
      "bundleIdentifier": "com.awoplatform.mobile",
      "usesAppleSignIn": true
    },
    "android": {
      "adaptiveIcon": {
        "foregroundImage": "./assets/adaptive-icon.png",
        "backgroundColor": "#bc9b25"
      },
      "package": "com.awoplatform.mobile",
      "permissions": [
        "USE_BIOMETRIC",
        "USE_FINGERPRINT", 
        "CAMERA",
        "VIBRATE"
      ]
    },
    "web": {
      "favicon": "./assets/favicon.png"
    },
    "plugins": [
      "expo-secure-store",
      "expo-notifications",
      [
        "expo-biometrics",
        {
          "faceIDPermission": "Use Face ID to authenticate with AWO Platform"
        }
      ]
    ]
  }
}
```
</CodeGroup>

## Backend Application Structure

### Express.js API Organization

<Accordion title="Backend Directory Structure">
```
backend/
â”œâ”€â”€ ğŸ”§ src/
â”‚   â”œâ”€â”€ ğŸ›£ï¸  routes/             # API route definitions
â”‚   â”‚   â”œâ”€â”€ auth.ts             # Authentication endpoints
â”‚   â”‚   â”œâ”€â”€ users.ts            # User management
â”‚   â”‚   â”œâ”€â”€ diva-score.ts       # DIVA scoring endpoints
â”‚   â”‚   â”œâ”€â”€ chamas.ts           # Chama management
â”‚   â”‚   â”œâ”€â”€ wallet.ts           # Wallet operations
â”‚   â”‚   â”œâ”€â”€ investments.ts      # Investment platform
â”‚   â”‚   â”œâ”€â”€ banking.ts          # Banking integrations
â”‚   â”‚   â”œâ”€â”€ payments.ts         # Payment processing
â”‚   â”‚   â”œâ”€â”€ coaching.ts         # Wealth coaching
â”‚   â”‚   â””â”€â”€ webhooks.ts         # External service webhooks
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ”„ services/            # Business logic services
â”‚   â”‚   â”œâ”€â”€ auth/               # Authentication services
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ JWTService.ts
â”‚   â”‚   â”‚   â””â”€â”€ BiometricService.ts
â”‚   â”‚   â”œâ”€â”€ diva-scoring/       # DIVA score calculation
â”‚   â”‚   â”‚   â”œâ”€â”€ DivaScoreEngine.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ RTSMAssessment.ts
â”‚   â”‚   â”‚   â””â”€â”€ PortfolioMatcher.ts
â”‚   â”‚   â”œâ”€â”€ banking/            # Banking integrations
â”‚   â”‚   â”‚   â”œâ”€â”€ StitchService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ MonoService.ts
â”‚   â”‚   â”‚   â””â”€â”€ TransactionAnalyzer.ts
â”‚   â”‚   â”œâ”€â”€ payments/           # Payment processing
â”‚   â”‚   â”‚   â”œâ”€â”€ FlutterwaveService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ MobileMoneyService.ts
â”‚   â”‚   â”‚   â””â”€â”€ PaymentOrchestrator.ts
â”‚   â”‚   â”œâ”€â”€ chama/              # Chama management
â”‚   â”‚   â”‚   â”œâ”€â”€ ChamaService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ GovernanceService.ts
â”‚   â”‚   â”‚   â””â”€â”€ ContributionService.ts
â”‚   â”‚   â”œâ”€â”€ investments/        # Investment platform
â”‚   â”‚   â”‚   â”œâ”€â”€ PortfolioService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ SMEMarketplace.ts
â”‚   â”‚   â”‚   â””â”€â”€ RiskAssessment.ts
â”‚   â”‚   â”œâ”€â”€ notifications/      # Communication services
â”‚   â”‚   â”‚   â”œâ”€â”€ PushNotificationService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ SMSService.ts
â”‚   â”‚   â”‚   â””â”€â”€ EmailService.ts
â”‚   â”‚   â””â”€â”€ analytics/          # Analytics and reporting
â”‚   â”‚       â”œâ”€â”€ UserAnalytics.ts
â”‚   â”‚       â”œâ”€â”€ FinancialReporting.ts
â”‚   â”‚       â””â”€â”€ ComplianceReporting.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ›ï¸  middleware/          # Express middleware
â”‚   â”‚   â”œâ”€â”€ auth.ts             # Authentication middleware
â”‚   â”‚   â”œâ”€â”€ validation.ts       # Request validation
â”‚   â”‚   â”œâ”€â”€ rateLimit.ts        # Rate limiting
â”‚   â”‚   â”œâ”€â”€ cors.ts             # CORS configuration
â”‚   â”‚   â”œâ”€â”€ security.ts         # Security headers
â”‚   â”‚   â”œâ”€â”€ logging.ts          # Request logging
â”‚   â”‚   â””â”€â”€ errorHandler.ts     # Error handling
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ—„ï¸  database/           # Database layer
â”‚   â”‚   â”œâ”€â”€ config/             # Database configuration
â”‚   â”‚   â”‚   â”œâ”€â”€ connection.ts
â”‚   â”‚   â”‚   â””â”€â”€ redis.ts
â”‚   â”‚   â”œâ”€â”€ migrations/         # Database migrations
â”‚   â”‚   â”‚   â”œâ”€â”€ 001_initial_schema.sql
â”‚   â”‚   â”‚   â”œâ”€â”€ 002_add_indexes.sql
â”‚   â”‚   â”‚   â””â”€â”€ 003_audit_triggers.sql
â”‚   â”‚   â”œâ”€â”€ models/             # Database models (Drizzle ORM)
â”‚   â”‚   â”‚   â”œâ”€â”€ User.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ DivaScore.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ Chama.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ Transaction.ts
â”‚   â”‚   â”‚   â””â”€â”€ Investment.ts
â”‚   â”‚   â”œâ”€â”€ repositories/       # Data access layer
â”‚   â”‚   â”‚   â”œâ”€â”€ UserRepository.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ DivaRepository.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ChamaRepository.ts
â”‚   â”‚   â”‚   â””â”€â”€ TransactionRepository.ts
â”‚   â”‚   â”œâ”€â”€ seeds/              # Database seed data
â”‚   â”‚   â”‚   â”œâ”€â”€ development.ts
â”‚   â”‚   â”‚   â””â”€â”€ testing.ts
â”‚   â”‚   â””â”€â”€ utils/              # Database utilities
â”‚   â”‚       â”œâ”€â”€ encryption.ts
â”‚   â”‚       â”œâ”€â”€ audit.ts
â”‚   â”‚       â””â”€â”€ performance.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ”§ utils/               # Utility functions
â”‚   â”‚   â”œâ”€â”€ validation/         # Input validation schemas
â”‚   â”‚   â”‚   â”œâ”€â”€ userValidation.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ financialValidation.ts
â”‚   â”‚   â”‚   â””â”€â”€ chamaValidation.ts
â”‚   â”‚   â”œâ”€â”€ encryption/         # Encryption utilities
â”‚   â”‚   â”‚   â”œâ”€â”€ fieldEncryption.ts
â”‚   â”‚   â”‚   â””â”€â”€ keyManagement.ts
â”‚   â”‚   â”œâ”€â”€ formatting/         # Data formatting
â”‚   â”‚   â”‚   â”œâ”€â”€ currency.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ dates.ts
â”‚   â”‚   â”‚   â””â”€â”€ numbers.ts
â”‚   â”‚   â”œâ”€â”€ email/              # Email templates
â”‚   â”‚   â”‚   â”œâ”€â”€ welcome.html
â”‚   â”‚   â”‚   â”œâ”€â”€ diva-score-update.html
â”‚   â”‚   â”‚   â””â”€â”€ chama-notification.html
â”‚   â”‚   â””â”€â”€ constants/          # Application constants
â”‚   â”‚       â”œâ”€â”€ countries.ts
â”‚   â”‚       â”œâ”€â”€ currencies.ts
â”‚   â”‚       â””â”€â”€ apiEndpoints.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‹ types/               # TypeScript definitions
â”‚   â”‚   â”œâ”€â”€ api.ts              # API request/response types
â”‚   â”‚   â”œâ”€â”€ database.ts         # Database entity types
â”‚   â”‚   â”œâ”€â”€ external.ts         # Third-party service types
â”‚   â”‚   â”œâ”€â”€ business.ts         # Business logic types
â”‚   â”‚   â””â”€â”€ config.ts           # Configuration types
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ”Œ integrations/        # External service integrations
â”‚   â”‚   â”œâ”€â”€ stitch/             # Stitch Open Banking
â”‚   â”‚   â”‚   â”œâ”€â”€ StitchClient.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ webhooks.ts
â”‚   â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â”‚   â”œâ”€â”€ smile-id/           # Smile ID KYC
â”‚   â”‚   â”‚   â”œâ”€â”€ SmileIDClient.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ verification.ts
â”‚   â”‚   â”‚   â””â”€â”€ webhooks.ts
â”‚   â”‚   â”œâ”€â”€ flutterwave/        # Flutterwave payments
â”‚   â”‚   â”‚   â”œâ”€â”€ FlutterwaveClient.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ webhooks.ts
â”‚   â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â”‚   â””â”€â”€ twilio/             # Twilio SMS
â”‚   â”‚       â”œâ”€â”€ TwilioClient.ts
â”‚   â”‚       â””â”€â”€ templates.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ âš™ï¸  config/             # Application configuration
â”‚   â”‚   â”œâ”€â”€ app.ts              # Main app configuration
â”‚   â”‚   â”œâ”€â”€ database.ts         # Database configuration
â”‚   â”‚   â”œâ”€â”€ redis.ts            # Redis configuration
â”‚   â”‚   â”œâ”€â”€ logging.ts          # Logging configuration
â”‚   â”‚   â””â”€â”€ external-services.ts # Third-party service configs
â”‚   â”‚
â”‚   â””â”€â”€ ğŸƒ server.ts            # Application entry point
â”‚
â”œâ”€â”€ ğŸ§ª tests/                   # Test files
â”‚   â”œâ”€â”€ unit/                   # Unit tests
â”‚   â”œâ”€â”€ integration/            # Integration tests
â”‚   â”œâ”€â”€ e2e/                    # End-to-end tests
â”‚   â””â”€â”€ fixtures/               # Test data and fixtures
â”‚
â”œâ”€â”€ ğŸš€ scripts/                 # Utility scripts
â”‚   â”œâ”€â”€ migrate.ts              # Database migration runner
â”‚   â”œâ”€â”€ seed.ts                 # Database seeding
â”‚   â”œâ”€â”€ generate-keys.ts        # Encryption key generation
â”‚   â””â”€â”€ health-check.ts         # Health check script
â”‚
â”œâ”€â”€ ğŸ“¦ package.json             # Dependencies and scripts
â”œâ”€â”€ ğŸ”§ tsconfig.json            # TypeScript configuration
â”œâ”€â”€ ğŸ”— nodemon.json             # Development server configuration
â”œâ”€â”€ ğŸ§ª jest.config.js           # Testing configuration
â””â”€â”€ ğŸ“‹ .eslintrc.json           # Code linting rules
```
</Accordion>

### Key Backend Files

<CodeGroup>
```typescript server.ts
// Main application entry point
import express from 'express';
import cors from 'cors';
import helmet from 'helmet';
import compression from 'compression';

import { authMiddleware } from './middleware/auth';
import { errorHandler } from './middleware/errorHandler';
import { requestLogger } from './middleware/logging';
import { rateLimiter } from './middleware/rateLimit';

// Route imports
import authRoutes from './routes/auth';
import userRoutes from './routes/users';
import divaRoutes from './routes/diva-score';
import chamaRoutes from './routes/chamas';
import walletRoutes from './routes/wallet';
import bankingRoutes from './routes/banking';

const app = express();

// Security middleware
app.use(helmet());
app.use(cors({
  origin: process.env.ALLOWED_ORIGINS?.split(',') || ['http://localhost:19006'],
  credentials: true,
}));

// Performance middleware
app.use(compression());

// Body parsing
app.use(express.json({ limit: '10mb' }));
app.use(express.urlencoded({ extended: true }));

// Logging and monitoring
app.use(requestLogger);

// Rate limiting
app.use(rateLimiter);

// Health check endpoint
app.get('/health', (req, res) => {
  res.json({ 
    status: 'healthy', 
    timestamp: new Date().toISOString(),
    version: process.env.APP_VERSION || '1.0.0'
  });
});

// API routes
app.use('/api/auth', authRoutes);
app.use('/api/users', authMiddleware, userRoutes);
app.use('/api/diva-score', authMiddleware, divaRoutes);
app.use('/api/chamas', authMiddleware, chamaRoutes);
app.use('/api/wallet', authMiddleware, walletRoutes);
app.use('/api/banking', authMiddleware, bankingRoutes);

// Error handling
app.use(errorHandler);

export default app;
```

```typescript config/app.ts
// Application configuration
interface AppConfig {
  port: number;
  nodeEnv: string;
  apiVersion: string;
  database: {
    url: string;
    poolSize: number;
    sslMode: string;
  };
  redis: {
    url: string;
    ttl: number;
  };
  auth: {
    jwtSecret: string;
    accessTokenExpiry: string;
    refreshTokenExpiry: string;
  };
  external: {
    stitch: {
      clientId: string;
      clientSecret: string;
      baseUrl: string;
    };
    flutterwave: {
      publicKey: string;
      secretKey: string;
    };
    smileId: {
      partnerId: string;
      apiKey: string;
    };
  };
}

export const config: AppConfig = {
  port: parseInt(process.env.PORT || '3000'),
  nodeEnv: process.env.NODE_ENV || 'development',
  apiVersion: process.env.API_VERSION || 'v1',
  
  database: {
    url: process.env.DATABASE_URL!,
    poolSize: parseInt(process.env.DB_POOL_SIZE || '20'),
    sslMode: process.env.DB_SSL_MODE || 'require',
  },
  
  redis: {
    url: process.env.REDIS_URL || 'redis://localhost:6379',
    ttl: parseInt(process.env.REDIS_TTL || '3600'),
  },
  
  auth: {
    jwtSecret: process.env.JWT_SECRET!,
    accessTokenExpiry: process.env.ACCESS_TOKEN_EXPIRY || '15m',
    refreshTokenExpiry: process.env.REFRESH_TOKEN_EXPIRY || '30d',
  },
  
  external: {
    stitch: {
      clientId: process.env.STITCH_CLIENT_ID!,
      clientSecret: process.env.STITCH_CLIENT_SECRET!,
      baseUrl: process.env.STITCH_BASE_URL || 'https://api.stitch.money',
    },
    flutterwave: {
      publicKey: process.env.FLUTTERWAVE_PUBLIC_KEY!,
      secretKey: process.env.FLUTTERWAVE_SECRET_KEY!,
    },
    smileId: {
      partnerId: process.env.SMILE_ID_PARTNER_ID!,
      apiKey: process.env.SMILE_ID_API_KEY!,
    },
  },
};
```
</CodeGroup>

## Shared Libraries Structure

### Common Utilities and Types

<Accordion title="Shared Directory Structure">
```
shared/
â”œâ”€â”€ ğŸ“‹ types/                   # Shared TypeScript types
â”‚   â”œâ”€â”€ api/                    # API contract types
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ users.ts
â”‚   â”‚   â”œâ”€â”€ diva-score.ts
â”‚   â”‚   â”œâ”€â”€ chamas.ts
â”‚   â”‚   â””â”€â”€ payments.ts
â”‚   â”œâ”€â”€ database/               # Database entity types
â”‚   â”‚   â”œâ”€â”€ User.ts
â”‚   â”‚   â”œâ”€â”€ DivaScore.ts
â”‚   â”‚   â”œâ”€â”€ Chama.ts
â”‚   â”‚   â””â”€â”€ Transaction.ts
â”‚   â”œâ”€â”€ business/               # Business logic types
â”‚   â”‚   â”œâ”€â”€ FinancialData.ts
â”‚   â”‚   â”œâ”€â”€ RiskAssessment.ts
â”‚   â”‚   â””â”€â”€ ComplianceData.ts
â”‚   â””â”€â”€ common/                 # Common utility types
â”‚       â”œâ”€â”€ responses.ts
â”‚       â”œâ”€â”€ pagination.ts
â”‚       â””â”€â”€ validation.ts
â”‚
â”œâ”€â”€ ğŸ”§ utils/                   # Shared utility functions
â”‚   â”œâ”€â”€ validation/             # Input validation
â”‚   â”‚   â”œâ”€â”€ schemas.ts
â”‚   â”‚   â”œâ”€â”€ sanitization.ts
â”‚   â”‚   â””â”€â”€ business-rules.ts
â”‚   â”œâ”€â”€ formatting/             # Data formatting
â”‚   â”‚   â”œâ”€â”€ currency.ts
â”‚   â”‚   â”œâ”€â”€ dates.ts
â”‚   â”‚   â”œâ”€â”€ phone-numbers.ts
â”‚   â”‚   â””â”€â”€ addresses.ts
â”‚   â”œâ”€â”€ encryption/             # Encryption utilities
â”‚   â”‚   â”œâ”€â”€ field-encryption.ts
â”‚   â”‚   â”œâ”€â”€ password-hashing.ts
â”‚   â”‚   â””â”€â”€ token-generation.ts
â”‚   â”œâ”€â”€ financial/              # Financial calculations
â”‚   â”‚   â”œâ”€â”€ diva-calculations.ts
â”‚   â”‚   â”œâ”€â”€ interest-calculations.ts
â”‚   â”‚   â””â”€â”€ risk-metrics.ts
â”‚   â””â”€â”€ constants/              # Shared constants
â”‚       â”œâ”€â”€ countries.ts
â”‚       â”œâ”€â”€ currencies.ts
â”‚       â”œâ”€â”€ error-codes.ts
â”‚       â””â”€â”€ api-endpoints.ts
â”‚
â”œâ”€â”€ ğŸ”Œ integrations/            # Shared integration utilities
â”‚   â”œâ”€â”€ base-client.ts          # Base HTTP client
â”‚   â”œâ”€â”€ webhook-verifier.ts     # Webhook signature verification
â”‚   â””â”€â”€ rate-limiter.ts         # Shared rate limiting logic
â”‚
â”œâ”€â”€ ğŸ§ª testing/                 # Shared testing utilities
â”‚   â”œâ”€â”€ fixtures/               # Test data fixtures
â”‚   â”‚   â”œâ”€â”€ users.ts
â”‚   â”‚   â”œâ”€â”€ chamas.ts
â”‚   â”‚   â””â”€â”€ transactions.ts
â”‚   â”œâ”€â”€ mocks/                  # Service mocks
â”‚   â”‚   â”œâ”€â”€ banking-apis.ts
â”‚   â”‚   â”œâ”€â”€ payment-apis.ts
â”‚   â”‚   â””â”€â”€ notification-apis.ts
â”‚   â””â”€â”€ helpers/                # Test helper functions
â”‚       â”œâ”€â”€ database-helpers.ts
â”‚       â”œâ”€â”€ auth-helpers.ts
â”‚       â””â”€â”€ api-helpers.ts
â”‚
â””â”€â”€ ğŸ“¦ package.json             # Shared dependencies
```
</Accordion>

## Infrastructure and Deployment

### Infrastructure as Code

<Accordion title="Infrastructure Directory Structure">
```
infrastructure/
â”œâ”€â”€ ğŸš€ deployment/              # Deployment configurations
â”‚   â”œâ”€â”€ docker/                 # Docker configurations
â”‚   â”‚   â”œâ”€â”€ Dockerfile.backend
â”‚   â”‚   â”œâ”€â”€ Dockerfile.frontend
â”‚   â”‚   â”œâ”€â”€ docker-compose.dev.yml
â”‚   â”‚   â”œâ”€â”€ docker-compose.prod.yml
â”‚   â”‚   â””â”€â”€ .dockerignore
â”‚   â”œâ”€â”€ kubernetes/             # Kubernetes manifests
â”‚   â”‚   â”œâ”€â”€ backend/
â”‚   â”‚   â”œâ”€â”€ frontend/
â”‚   â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â””â”€â”€ ingress/
â”‚   â”œâ”€â”€ railway/                # Railway deployment configs
â”‚   â”‚   â”œâ”€â”€ railway.json
â”‚   â”‚   â””â”€â”€ Procfile
â”‚   â””â”€â”€ render/                 # Render deployment configs
â”‚       â””â”€â”€ render.yaml
â”‚
â”œâ”€â”€ ğŸ”§ scripts/                 # Infrastructure scripts
â”‚   â”œâ”€â”€ setup-environment.sh   # Environment setup
â”‚   â”œâ”€â”€ deploy.sh              # Deployment script
â”‚   â”œâ”€â”€ backup-database.sh     # Database backup
â”‚   â””â”€â”€ monitoring-setup.sh    # Monitoring setup
â”‚
â”œâ”€â”€ ğŸ“Š monitoring/              # Monitoring and logging
â”‚   â”œâ”€â”€ prometheus/             # Prometheus configuration
â”‚   â”œâ”€â”€ grafana/               # Grafana dashboards
â”‚   â””â”€â”€ alerts/                # Alert configurations
â”‚
â”œâ”€â”€ ğŸ”’ security/                # Security configurations
â”‚   â”œâ”€â”€ ssl-certificates/       # SSL certificate management
â”‚   â”œâ”€â”€ secrets/               # Secret management templates
â”‚   â””â”€â”€ firewall/              # Firewall rules
â”‚
â””â”€â”€ ğŸŒ regions/                 # Regional deployment configs
    â”œâ”€â”€ south-africa/          # SA-specific configurations

```
</Accordion>

## File Naming Conventions

### Naming Standards

<CardGroup cols={2}>
  <Card title="File Naming Rules" icon="file">
    **Components**: PascalCase (UserProfile.tsx)  
    **Hooks**: camelCase starting with 'use' (useAuth.ts)  
    **Services**: PascalCase with 'Service' suffix (DivaScoreService.ts)  
    **Utilities**: camelCase (formatCurrency.ts)  
    **Constants**: UPPER_SNAKE_CASE (API_ENDPOINTS.ts)  
    **Types**: PascalCase (UserProfile.ts)
  </Card>
  <Card title="Directory Naming" icon="folder">
    **Directories**: kebab-case (user-management/)  
    **Components**: kebab-case (auth-screens/)  
    **Services**: kebab-case (diva-scoring/)  
    **Utilities**: kebab-case (data-formatting/)  
    **Tests**: Mirror source structure (__tests__/)
  </Card>
</CardGroup>

### Naming Examples

<CodeGroup>
```typescript Component Examples
// âœ… Correct component naming
UserProfileScreen.tsx          // Screen component
DivaScoreCard.tsx             // UI component
ChamaContributionForm.tsx     // Form component
WalletBalanceDisplay.tsx      // Display component

// âŒ Incorrect naming
userProfile.tsx               // Should be PascalCase
diva_score_card.tsx          // Should use PascalCase, not snake_case
chamaform.tsx                // Should be descriptive
```

```typescript Service Examples
// âœ… Correct service naming
DivaScoreService.ts           // Business logic service
AuthenticationService.ts      // Authentication service
PaymentOrchestrator.ts        // Payment coordination service
NotificationService.ts        // Notification service

// âŒ Incorrect naming
diva.ts                       // Not descriptive enough
authSvc.ts                    // Avoid abbreviations
payment_service.ts            // Should use PascalCase
```

```typescript Utility Examples
// âœ… Correct utility naming
formatCurrency.ts             // Currency formatting
validatePhoneNumber.ts        // Phone validation
encryptFieldData.ts           # Field encryption
calculateDivaScore.ts         # DIVA calculation

// âŒ Incorrect naming
utils.ts                      // Too generic
CurrencyFormatter.ts          // Should be camelCase for utilities
phone_validator.ts            // Should use camelCase
```
</CodeGroup>

## Import/Export Conventions

### Import Organization

<CodeGroup>
```typescript Import Order Example
// 1. React and React Native imports
import React, { useState, useEffect } from 'react';
import { View, Text, TouchableOpacity, StyleSheet } from 'react-native';

// 2. Third-party library imports (alphabetical)
import { useQuery } from '@tanstack/react-query';
import { useNavigation } from '@react-navigation/native';
import { z } from 'zod';

// 3. Internal imports (alphabetical by category)
// Components
import Button from '../components/common/Button';
import UserAvatar from '../components/common/UserAvatar';

// Services
import { AuthService } from '../services/auth/AuthService';
import { DivaScoreService } from '../services/diva-scoring/DivaScoreService';

// Types
import type { User } from '../types/user';
import type { DivaScore } from '../types/financial';

// Utils
import { formatCurrency } from '../utils/formatting/currency';
import { validateEmail } from '../utils/validation/email';

// Constants
import { API_ENDPOINTS } from '../constants/api';
import { COLORS } from '../theme/colors';
```

```typescript Export Examples
// âœ… Correct export patterns

// Default export for main component/service
export default class DivaScoreService {
  // Implementation
}

// Named exports for utilities and types
export const formatCurrency = (amount: number, currency: string) => {
  // Implementation
};

export type DivaScore = {
  totalScore: number;
  components: DivaComponents;
};

// Re-exports for barrel files
export { DivaScoreService } from './DivaScoreService';
export { RTSMAssessment } from './RTSMAssessment';
export type { DivaScore, DivaComponents } from './types';
```
</CodeGroup>

### Barrel Exports

<CodeGroup>
```typescript Barrel Export Example
// src/services/index.ts - Service barrel export
export { AuthService } from './auth/AuthService';
export { DivaScoreService } from './diva-scoring/DivaScoreService';
export { ChamaService } from './chama/ChamaService';
export { PaymentService } from './payments/PaymentService';

// Types
export type { AuthResult } from './auth/types';
export type { DivaScore } from './diva-scoring/types';
export type { ChamaGroup } from './chama/types';
```

```typescript Component Barrel Export
// src/components/index.ts - Component barrel export
// Common components
export { default as Button } from './common/Button';
export { default as Input } from './common/Input';
export { default as Card } from './common/Card';

// Financial components
export { default as DivaScoreCard } from './financial/DivaScoreCard';
export { default as WalletBalance } from './financial/WalletBalance';
export { default as TransactionList } from './financial/TransactionList';

// Chama components
export { default as ChamaCard } from './chama/ChamaCard';
export { default as MemberList } from './chama/MemberList';
export { default as ContributionTracker } from './chama/ContributionTracker';
```
</CodeGroup>

## Code Organization Principles

### Single Responsibility Principle

<Accordion title="Component Responsibility">
Each component should have a single, well-defined responsibility:

```typescript
// âœ… Good: Single responsibility
const DivaScoreDisplay = ({ score }: { score: DivaScore }) => {
  return (
    <View style={styles.container}>
      <Text style={styles.score}>{score.totalScore}</Text>
      <Text style={styles.tier}>{score.portfolioTier}</Text>
    </View>
  );
};

// âŒ Bad: Multiple responsibilities
const UserDashboard = ({ user }: { user: User }) => {
  // Handles user display, DIVA score, wallet, AND navigation
  // Should be broken into multiple components
};
```
</Accordion>

<Accordion title="Service Responsibility">
Each service should handle one domain area:

```typescript
// âœ… Good: Single domain responsibility
class DivaScoreService {
  async calculateScore(userId: string): Promise<DivaScore> {
    // Only handles DIVA score calculation
  }
  
  async getScoreHistory(userId: string): Promise<DivaScore[]> {
    // Only handles score history retrieval
  }
}

// âŒ Bad: Multiple domain responsibilities
class UserService {
  async calculateDivaScore() { /* ... */ }
  async processPayment() { /* ... */ }
  async sendNotification() { /* ... */ }
  // Should be split into DivaScoreService, PaymentService, NotificationService
}
```
</Accordion>

### Dependency Direction

<Accordion title="Layered Architecture">
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Presentation Layer        â”‚  â† Screens, Components
â”‚  (Screens, Components, Navigation)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ depends on
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Business Layer            â”‚  â† Services, Business Logic
â”‚     (Services, Business Logic)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ depends on
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Data Layer               â”‚  â† Repositories, External APIs
â”‚  (Repositories, Database, APIs)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Rules**:
- Upper layers can depend on lower layers
- Lower layers should NOT depend on upper layers
- Use dependency injection for testability
- Abstract external dependencies behind interfaces
</Accordion>

## Development Workflow

### Feature Development Structure

<Steps>
  <Step title="Create Feature Branch">
    ```bash
    # Create feature branch with descriptive name
    git checkout -b feature/chama-democratic-voting
    
    # Branch naming convention: feature/scope-description
    # Examples:
    # feature/diva-score-optimization
    # bugfix/payment-timeout-handling
    # chore/update-dependencies
    ```
  </Step>
  
  <Step title="Implement Following Structure">
    ```
    feature/chama-democratic-voting
    â”œâ”€â”€ ğŸ“± mobile/src/
    â”‚   â”œâ”€â”€ components/chama/VotingInterface.tsx
    â”‚   â”œâ”€â”€ screens/chama/VotingScreen.tsx
    â”‚   â””â”€â”€ services/chama/votingService.ts
    â”œâ”€â”€ ğŸ”§ backend/src/
    â”‚   â”œâ”€â”€ routes/chama-voting.ts
    â”‚   â”œâ”€â”€ services/chama/VotingService.ts
    â”‚   â””â”€â”€ database/models/ChamaVote.ts
    â”œâ”€â”€ ğŸ“š shared/
    â”‚   â””â”€â”€ types/chama/voting.ts
    â””â”€â”€ ğŸ§ª tests/
        â”œâ”€â”€ voting.unit.test.ts
        â””â”€â”€ voting.integration.test.ts
    ```
  </Step>
  
  <Step title="Update Documentation">
    ```markdown
    # Update relevant documentation
    docs/core-features/chama-management.md
    docs/api-reference/chamas/voting.md
    docs/guides/chama-voting-implementation.md
    ```
  </Step>
</Steps>

## Next Steps

<CardGroup cols={3}>
  <Card title="Development Workflow" icon="git" href="/development/development-workflow">
    Learn the complete development process from coding to deployment
  </Card>
  <Card title="Code Style Guide" icon="code" href="/development/code-style">
    Follow AWO Platform coding standards and formatting rules
  </Card>
  <Card title="Component Patterns" icon="puzzle" href="/development/component-patterns">
    Understand reusable component patterns and design systems
  </Card>
</CardGroup>

---

*This project structure enables scalable development while maintaining clear boundaries between different concerns. The organization supports both rapid feature development and long-term maintainability for the AWO Platform ecosystem.*